# 儿童AI语音伴侣系统

一个专为儿童设计的智能语音交互伴侣系统，集成Live2D虚拟角色、情感化AI对话、语音识别与合成，旨在为双职工家庭的孩子提供温暖的陪伴和互动学习体验。

## 项目背景

在现代社会中，双职工家庭的孩子放学后往往独自在家，缺乏陪伴。家长通常会购买智能教育工具来缓解孩子的孤独感，但市场上的产品往往陷入功能堆叠的陷阱——一个价值数千元的机器人可能内置无数知识点，却无法回答孩子的追问"蚂蚁为什么要搬家？"

我们意识到，停留在"指令-反馈"层面的人机交互是不够的；**孩子真正需要的是一个能够感知情感的对话伙伴**。

基于这一认知，我们设计了这个专注于儿童交互学习和习惯培养的语音识别对话系统。我们反复思考如何让动画角色的每一次眨眼都对应语音的停顿，让角色的语调随对话内容变化，让大语言模型的回应保留"思考"的痕迹。这些细节看似微不足道，却能让孩子真正感受到陪伴与温暖——**因为真正的教育从来不是知识的传递，而是情感的共鸣**。

## 核心功能

### 🎭 情感化交互体验

- **Live2D虚拟伙伴** - 生动的3D角色表情和动作
- **情感感知对话** - AI理解孩子情绪并做出恰当回应
- **语音语调同步** - 角色表情与语音情感同步变化
- **智能思考停顿** - 模拟真实对话中的思考过程

### 🎤 多模态语音交互

- **儿童友好的语音识别** - 优化了儿童语音特征
- **高质量语音合成** - 温暖亲切的声音选择
- **文本输入支持** - 支持打字和语音双重输入
- **实时对话响应** - 流畅的多轮对话体验

### 👨‍👩‍👧‍👦 家长管控模式

- **使用时长控制** - 可设置每日使用时间限制
- **敏感词过滤** - 自定义敏感词库保护儿童
- **对话内容监控** - 家长可查看孩子的对话记录
- **安全对话边界** - 确保AI回应适合儿童年龄

### 💬 智能会话管理

- **多轮对话记忆** - 保持上下文连贯性
- **个性化学习** - 记住孩子的兴趣和偏好
- **历史对话回顾** - 按主题整理对话历史
- **成长记录导出** - 记录孩子的成长对话

## 快速开始

### 环境要求

- Python 3.7+
- 现代浏览器 (推荐Chrome获得最佳体验)
- 麦克风和扬声器设备
- 网络连接 (用于AI模型调用)

### 安装运行

```bash
# 克隆项目
git clone https://github.com/xyppyx/HCI-Final-Project.git
cd HCI-Final-Project

# 安装依赖
pip install -r requirements.txt

# 启动服务
python app.py

# 访问应用
# 浏览器打开 http://127.0.0.1:5000
```

### 配置设置

1. **基础配置** - 右侧控制面板 → 设置 → 大语言模型设置
2. **API配置** - 配置DeepSeek或Kimi API Key
3. **家长模式** - 设置使用时长限制和敏感词过滤
4. **语音优化** - 选择适合儿童的温暖声音
5. **保存设置** - 完成初始化配置

## 项目结构

```
儿童AI语音伴侣系统/
├── app.py                      # Flask主应用
├── requirements.txt            # 依赖包列表
├── README.md                  # 项目文档
├── templates/
│   └── index.html            # 主界面模板
├── static/
│   ├── css/
│   │   └── style.css         # 儿童友好界面样式
│   ├── js/
│   │   ├── main.js           # 核心交互逻辑
│   │   ├── live2d-manager.js # Live2D角色管理
│   │   └── parental-control.js # 家长控制功能
│   └── live2d/               # Live2D虚拟角色资源
│       ├── lib/              # Live2D核心库
│       ├── models/           # 3D角色模型
│       └── assets/           # 表情和动画资源
├── services/                  # 核心服务模块
│   ├── __init__.py           # 包初始化
│   ├── llm_service.py        # 儿童友好AI对话服务
│   ├── tts_service.py        # 情感化语音合成
│   ├── asr_service.py        # 儿童语音识别优化
│   └── content_filter.py     # 内容安全过滤
└── data/                     # 数据存储
    ├── conversations/        # 对话历史记录
    ├── settings/             # 家长设置存储
    └── logs/                 # 系统运行日志
```

## 核心API接口

### 儿童安全对话API

```http
POST /api/chat
{
    "provider": "deepseek|kimi",
    "api_key": "your-api-key",
    "model": "DeepSeek-V3",
    "messages": [...],
    "child_mode": true,
    "age_group": "6-12",
    "content_filter": true
}
```

### 情感化语音合成API

```http
POST /api/tts
{
    "text": "要合成的文本",
    "engine": "edge",
    "voice": "zh-CN-XiaoxiaoNeural",
    "emotion": "warm|cheerful|gentle",
    "child_friendly": true
}
```

### 家长控制API

```http
POST /api/parental/time-limit
{
    "daily_minutes": 60,
    "break_interval": 15
}

POST /api/parental/content-filter
{
    "sensitive_words": [...],
    "age_appropriate": true
}
```

## 技术特色

### 🎨 情感化设计

- **温暖色彩搭配** - 专为儿童视觉习惯设计
- **动画微表情** - Live2D角色展现丰富情感
- **声音情感同步** - 语音语调与对话内容匹配
- **交互反馈优化** - 每个动作都有温暖的视觉反馈

### 🛡️ 安全保护机制

- **内容安全过滤** - 多层次敏感内容检测
- **时间管理保护** - 防止过度使用的健康机制
- **隐私数据保护** - 本地存储，保护儿童隐私
- **紧急中断功能** - 家长可随时介入对话

### 🧠 儿童心理考量

- **年龄适配对话** - 根据年龄调整语言复杂度
- **鼓励式回应** - 正向引导孩子表达和思考
- **好奇心激发** - 通过追问培养探索精神
- **情感理解能力** - 识别并回应孩子的情感状态

## 支持的服务

| 功能模块             | 服务提供商            | 特殊优化         | 状态      |
| -------------------- | --------------------- | ---------------- | --------- |
| **儿童AI对话** | DeepSeek (华为云MaaS) | 儿童安全内容过滤 | ✅ 已优化 |
|                      | Kimi (月之暗面)       | 年龄适配回应     | ✅ 已优化 |
| **情感化TTS**  | Microsoft Edge TTS    | 温暖声音筛选     | ✅ 已集成 |
| **儿童ASR**    | Web Speech API        | 儿童语音优化     | ✅ 已优化 |
| **虚拟伙伴**   | Live2D Cubism SDK     | 情感表达动画     | ✅ 已集成 |
| **安全过滤**   | 自研内容过滤系统      | 敏感词检测       | ✅ 已实现 |

## 使用指南

### 👨‍👩‍👧‍👦 家长首次设置

1. **启动系统** - 访问 http://127.0.0.1:5000
2. **家长认证** - 设置家长控制密码
3. **基础配置** - 配置AI API Key和基本参数
4. **安全设置** - 设置每日使用时长和敏感词过滤
5. **角色选择** - 为孩子选择合适的虚拟伙伴形象

### 👧👦 儿童使用指引

1. **开始对话** - 点击屏幕上的虚拟伙伴开始聊天
2. **语音交流** - 按住麦克风按钮说话，或直接输入文字
3. **情感互动** - 虚拟伙伴会根据对话内容展现不同表情
4. **学习探索** - 大胆提问，伙伴会耐心回答并引导思考
5. **休息提醒** - 系统会在适当时候提醒休息保护眼睛

### 📊 家长监控面板

- **使用时长统计** - 查看每日/每周使用时间
- **对话内容回顾** - 了解孩子的兴趣和关注点
- **学习成长记录** - 追踪孩子的表达能力发展
- **安全警报** - 接收内容安全相关提醒

## 常见问题

**Q: 如何确保对话内容适合儿童？**

- 系统内置多层内容过滤机制
- 支持家长自定义敏感词库
- AI模型经过儿童安全训练优化
- 所有对话记录可供家长查看

**Q: 孩子会不会过度依赖AI伙伴？**

- 内置使用时长限制功能
- 定时休息提醒保护视力
- 鼓励孩子与真实世界互动
- 家长可随时查看使用情况

**Q: Live2D角色不显示怎么办？**

- 检查浏览器是否支持WebGL
- 确认网络连接稳定
- 推荐使用Chrome浏览器
- 查看控制台错误信息

**Q: 语音识别不准确？**

- 确保麦克风权限已开启
- 让孩子说话清楚一些
- 检查周围环境噪音
- 可切换到文字输入模式

## API Key获取指南

### DeepSeek (华为云MaaS) - 推荐

1. 访问 [华为云MaaS控制台](https://console.huaweicloud.com/modelarts/)
2. 注册华为云账号并完成实名认证
3. 创建API Key并设置儿童内容过滤
4. 配置到系统中使用

### Kimi (月之暗面)

1. 访问 [月之暗面开放平台](https://platform.moonshot.cn/)
2. 注册账号并获取API Key
3. 在系统中启用儿童模式过滤

## 教育价值

### 🌱 认知发展

- **语言表达能力** - 鼓励孩子完整表达想法
- **逻辑思维训练** - 通过问答培养思辨能力
- **知识探索精神** - 激发对世界的好奇心
- **情感表达能力** - 学会描述和理解情感

### 🤝 社交技能

- **对话礼貌** - 学习基本的对话礼仪
- **情感理解** - 提高情商和同理心
- **耐心倾听** - 培养良好的沟通习惯
- **自信表达** - 在安全环境中练习交流

### 🎯 习惯养成

- **时间管理** - 通过使用限制学会自律
- **健康作息** - 定时休息保护身体健康
- **安全意识** - 学会识别和避免不当内容
- **独立思考** - 鼓励独立探索和学习

## 技术架构

- **后端框架**: Flask + Python 3.7+
- **前端技术**: HTML5 + CSS3 + JavaScript ES6+
- **3D渲染**: Live2D Cubism SDK + WebGL
- **语音处理**: Edge TTS + Web Speech API
- **AI对话**: DeepSeek/Kimi API + 儿童安全过滤
- **数据存储**: 本地LocalStorage + 文件系统
- **安全机制**: 内容过滤 + 时间控制 + 隐私保护

## 隐私与安全

⚠️ **隐私保护承诺**:

- 所有对话数据仅本地存储，不上传云端
- 家长拥有完全的数据控制权
- 可随时清除所有历史记录
- 不收集任何个人身份信息

🛡️ **安全保障**:

- 多层内容安全过滤机制
- 实时监控对话内容安全
- 家长可设置紧急中断密码
- 定期安全更新和优化

## 许可证

本项目采用 GPL-3.0 开源许可证

## 致谢

感谢所有关注儿童教育和技术伦理的开发者和教育工作者。我们相信，**技术的最终目的是让每个孩子都能感受到温暖和陪伴**。

---

🎈 **为孩子而生，用爱心编程**
🌟 **如果这个项目能给孩子带来温暖，请给我们一个Star！**
